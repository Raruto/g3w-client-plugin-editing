<div class="g3w-editing-panel">
  <div style="margin-bottom: 10px; margin-top:5px;">
    <div class="editbtn" @click="canCommit ? commit(): null" :class="{'enabled' : canCommit }">
      <img height="30px" width="30px" src="../dist/client/images/saveedit.png"/>
    </div>
    <div class="editbtn pull-right" :class="{'enabled' : canRedo }">
      <img height="30px" @click="canRedo ? redo(): null" width="30px" src="../dist/client/images/redo.png"/>
    </div>
    <div class="editbtn pull-right" @click="canUndo ? undo(): null" :class="{'enabled' : canUndo }">
      <img height="30px" width="30px" src="../dist/client/images/undo.png"/>
    </div>
  </div>
  <template v-for="toolbox in state.toolboxes">
    <div v-if="show(toolbox)" @click="select(toolbox)" class="panel panel-primary" :class="{ 'toolboxselected': toolbox.state.selected }">
      <div  class="panel-heading"  style="position:relative; height: 40px;" :style="{ background: toolbox.state.color}" >
        <h3 class="panel-title" style="display: inline-block;">
          {{ toolbox.state.title }} {{ toolbox.state.show }}
        </h3>
        <div class="editbtn" style="position:absolute; right:0;" :class="{'enabled' : true,  toggled : toolbox.state.editing.on}" >
          <img height="20px" width="20px"  @click="toggleEditing(toolbox)" src="../dist/client/images/edit.png"/>
        </div>
        <!--<span class="editbtn" :class="{'enabled' : toolbox.isDirty() }" >-->
          <!--<img height="20px" width="20px"  @click="saveEdits(toolbox)" src="https://cdn4.iconfinder.com/data/icons/pretty-office-part-7-simple-style/128/Save-as.png"/>-->
        <!--</span>-->
      </div>
      <div class="panel-body">
        <!--<button class="btn btn-default" v-disabled="!toolbox.editing.dirty" @click="saveEdits" :alt="startorstop" :title="startorstop" :class="{'enabled': (toolbox.editing.on)}">-->
          <!--<span class="glyphicon glyphicon glyphicon-floppy-save" style="vertical-align:middle"></span> Centered-->
        <!--</button>-->
        <template v-for="tool in toolbox.getTools()">
          <div class="editbtn" :class="{'enabled' : (toolbox.state.editing.on), 'toggled' : tool.state.started}">
            <img height="30px" width="30px" @click="toolbox.state.editing.on ? toggletool(tool): null" :alt="tool.state.name" :title="tool.state.name" :src="'../dist/client/images/'+ tool.state.icon"/>
                 <!--:src="resourcesurl+'images/'+tool.icon"/>-->
          </div>
        </template>
        <!--<img v-show="toolbox.loading" :src="resourcesurl +'images/loader.svg'">-->
      </div>
    </div>
    <div v-else class="message" v-html="toolbox.state.message"></div>
  </template>
  <div class="message" v-html="toolmessage"></div>
  <div class="message" v-html="message"></div>
</div>
