<div class="toolbox">
  <div :class="{'disableddiv' : !isLayerReady }" :id="'id_toolbox_'+ state.id">
    <div @click="select" class="panel panel-primary" :class="{ 'toolboxselected': state.selected }">
      <div v-show="!isLayerReady" class="bar-loader"></div>
      <div style="padding: 0 10px 0 10px; width:100%; display: flex; align-items: center; justify-content:space-between" :style="{ background: state.color}" >
        <div class="panel-title" style="font-size: 1em;" >
          {{ state.title }}
        </div>
        <div>
          <img :src="state.icon">
        </div>
      </div>
      <bar-loader :loading="state.loading"></bar-loader>
      <div class="panel-body" style="padding:8px;">
        <div style="display: flex; flex-wrap: wrap;">
          <tool
            :state="toolstate"
            :resourcesurl="resourcesurl"
            @stopactivetool="stopActiveTool"
            @setactivetool="setActiveTool"
            v-for="toolstate in state.tools" :key="toolstate.id">
          </tool>
        </div>
        <div class="message" style="margin-top: 5px;" :id="'id_toolbox_messages_'+ state.id">
          <div v-html="state.message"></div>
          <div class="toolbox_help_message" style="font-size:0.8em" v-html="toolhelpmessage"></div>
        </div>
      </div>
    </div>
  </div>
</div>
